{% extends "base.html" %}

{% block main_content %}
{% if section.extra.section_path -%}
{% set section = get_section(path=section.extra.section_path) %}
{% endif -%}

{%- if section.extra.desc %}
	{{ macros_page_desc::page_desc(desc=section.extra.desc, page=section) }}
{% endif -%}

<main class="list">
	<div>
		{{ macros_page_header::page_header(title=section.title) }}
	</div>
	{%- if paginator %}
	{%- set show_pages = paginator.pages -%}
	{% else %}
	{%- set show_pages = section.pages -%}
	{% endif -%}

	{{ macros_list_posts::list_posts(pages=show_pages) }}
</main>

{% if paginator %}
<div class="pagination">
	{% if paginator.previous %}
	<span class="page-item page-prev">
		<a href={{ paginator.previous }} class="page-link" aria-label="Previous"><span aria-hidden="true">← Prev</span></a>
	</span>
	{% endif %}

	{% if paginator.next %}
	<span class="page-item page-next">
		<a href={{ paginator.next }} class="page-link" aria-label="Next"><span aria-hidden="true">Next →</span></a>
	</span>
	{% endif %}
</div>
{% endif %}
{% endblock main_content %}
